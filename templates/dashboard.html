{% extends "admin_base.html" %}

{% block title %}Admin Dashboard - {{ super() }}{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='CSS/display.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <h2>Project Management</h2>
  
  <div class="add-project-section">
    <h3>Add New Project</h3>
    <form action="{{ url_for('add_project') }}" method="post">
      <div class="form-group">
        <label for="pname">Project Name:</label>
        <input type="text" id="pname" name="pname" required>
      </div>
      
      <div class="form-group">
        <label for="projectlink">Project Link:</label>
        <input type="url" id="projectlink" name="projectlink" required>
      </div>
      
      <div class="form-group">
        <label for="projectDescripton">Description:</label>
        <textarea id="projectDescripton" name="projectDescripton" required></textarea>
      </div>
      
      <button type="submit">Add Project</button>
    </form>
  </div>

  <div class="projects-list">
    <h3>Current Projects</h3>
    <table style="color:black;">
      <tr>
        <th>Project Name</th>
        <th>Project Link</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>


      {% if projects %}
        {% for project in projects %}
        <tr>
          <td>{{ project[1] }}</td>
          <td><a href="{{ project[2] }}" target="_blank" rel="noopener noreferrer">View Project</a></td>
          <td>{{ project[3] }}</td>
          <td>
            <a href="{{ url_for('delete_project', pname=project[1]) }}" 
               onclick="return confirm('Are you sure you want to delete this project?')"
               class="delete-btn">Delete</a>
          </td>
        </tr>
        {% endfor %}
      {% else %}
        <tr>
          <td colspan="4">No projects found. Add your first project above!</td>
        </tr>
      {% endif %}
    </table>
  </div>
</div>
{% endblock %}